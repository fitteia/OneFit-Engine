
# Install required packages
sudo pt-get update && apt-get install -y \
    sudo \
    git \
    curl \
    shellinabox \
    build-essential \
    libreadline-dev \
    libssl-dev \
    raku \
    zsh \
    libperl-dev \
    swig \
    gcc \
    dpkg-dev \
   	gfortran \
   	grace \
   	imagemagick \
   	texlive-font-utils \
   	ghostscript \
   	libcgi-pm-perl \
   	zip \
   	pdftk \
    jq \
   	hdf5-tools \
    man-db \
    tasksel \ 
    && apt-get clean

# Create target directories and clone the repo
mkdir /home/ofe/public_html &&\
	mkdir -p /home/ofe/.local && \
	cd /home/ofe/.local && \
	mkdir -p bin etc log && \
    git clone https://github.com/fitteia/OneFit-Engine.git /home/ofe/.local/OneFit-Engine 
 
cd /home/ofe/.local/OneFit-Engine &&  git checkout dev  && echo "ofe\nY\nY\nY" | sudo -S ./INSTALL --docker

onefite service start
onefite test
