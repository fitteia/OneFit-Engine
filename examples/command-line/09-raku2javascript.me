#!/usr/bin/env raku

my $folder = "$*HOME/public_html/example_09";
my $json-file = "example_09.json";

my $description = qq:to/END_DESCRIPTION/;
onefite command line: Example 09

   1) creates $folder folder
   2) creates file $folder/lixo.txt with data
   3) creates a python script to run onefite
   4) runs the script	 
END_DESCRIPTION

say $description;
shell("rm -fr $folder") if $folder.IO.e;
$folder.IO.mkdir;
"$folder/example_09.sav".IO.spurt: q:to/END_SAV/;
submit=Overwrite
Projecto=lixo
GuardarNome=Master-Mz-to-R1profie
RegExp=
Registo=Master-Mz-to-R1profie
Nome=pj.sebastiao%40gmail.com
Numero=49ij1aw1WlxW619U9eQ6v0lksEpjHeGw71h2g8gpjnKasnp0yTjg
Level=4
AuxCode=%23include%20%3Cmath.h%3E%0D%0A%0D%0A%23define%20pi%203.1415926%0D%0A%0D%0Adouble%20template1%28double%20x%2C%20double%20a%29%0D%0A%7B%0D%0A%20%20double%20result%3B%0D%0A%20%20return%20a%3B%0D%0A%7D%0D%0A%0D%0Adouble%20template2%28double%20x%2C%20double%20a%29%0D%0A%7B%0D%0A%20%20double%20result%3B%0D%0A%20%20result%3Da%2Ax%3B%0D%0A%20%20return%20result%3B%0D%0A%7D
AuxDeclar=double%20template1%28%29%2C%20template2%28%29
PreviousParameters=Minf%2CM0%2CT11%2Cc%2CT12
F0=Free
Pval0=4.7938e-01%20
Pmin0=-3.0000e%2B00
Pmax0=3.0000e%2B00%20
F1=Free
Pval1=-8.1706e-01
Pmin1=-3.0000e%2B00
Pmax1=3.0000e%2B00%20
F2=Free
Pval2=4.1986e-02%20
Pmin2=1.0000e-03%20
Pmax2=5.0000e-01%20
F3=Fixed
Pval3=1.0000e%2B00%20
Pmin3=
Pmax3=
F4=Fixed
Pval4=1.0000e%2B00%20
Pmin4=
Pmax4=
FitType=Individual
SelectedDataSet=15kHz_1
ScrollingListSize=41
Tags=15kHz_1
Tags=300MHz
DadosFontSize=100
Dados=%23%20DATA%20dum%3D1.5e4%20%0A%23%20TAG%20%3D%2015kHz_1%0A0.005%201.66942%201%0A0.0065%201.60492%201%0A0.0085%201.53644%201%0A0.0111%201.4707%201%0A0.0146%201.4032%201%0A0.019%201.25631%201%0A0.0248%201.16182%201%0A0.0324%201.05546%201%0A0.0424%200.942822%201%0A0.0553%200.830863%201%0A0.0723%200.762105%201%0A0.0944%200.641363%201%0A0.1233%200.569319%201%0A0.1611%200.535077%201%0A0.2104%200.507323%201%0A0.2748%200.486865%201%0A0.359%200.454132%201%0A0.4689%200.455143%201%0A0.6125%200.45292%201%0A0.8%200.460485%201%0A%0A%23%20DATA%20dum%3D2e4%20%0A%23%20TAG%20%3D%2020kHz_1%0A0.005%201.61965%201%0A0.0065%201.55692%201%0A0.0085%201.53942%201%0A0.0111%201.44883%201%0A0.0146%201.32846%201%0A0.019%201.26785%201%0A0.0248%201.16059%201%0A0.0324%201.0749%201%0A0.0424%200.952342%201%0A0.0553%200.846465%201%0A0.0723%200.755394%201%0A0.0944%200.642482%201%0A0.1233%200.578742%201%0A0.1611%200.507555%201%0A0.2104%200.492763%201%0A0.2748%200.482344%201%0A0.359%200.471851%201%0A0.4689%200.44532%201%0A0.6125%200.450223%201%0A0.8%200.437733%201%0A%0A%23%20DATA%20dum%3D3e4%20%0A%23%20TAG%20%3D%2030kHz_1%0A0.0065%201.62459%201%0A0.0085%201.55685%201%0A0.0111%201.46455%201%0A0.0146%201.39024%201%0A0.019%201.25914%201%0A0.0248%201.16904%201%0A0.0324%201.04285%201%0A0.0424%200.942509%201%0A0.0553%200.849412%201%0A0.0723%200.73402%201%0A0.0944%200.668863%201%0A0.1233%200.586311%201%0A0.1611%200.512925%201%0A0.2104%200.481691%201%0A0.2748%200.467806%201%0A0.359%200.445651%201%0A0.4689%200.469412%201%0A0.6125%200.419385%201%0A0.8%200.430677%201%0A%0A%23%20DATA%20dum%3D4e4%20%0A%23%20TAG%20%3D%2040kHz_1%0A0.0065%201.63853%201%0A0.0085%201.57405%201%0A0.0111%201.4685%201%0A0.0146%201.41043%201%0A0.019%201.29061%201%0A0.0248%201.21224%201%0A0.0324%201.06206%201%0A0.0424%200.945412%201%0A0.0553%200.864924%201%0A0.0723%200.735335%201%0A0.0944%200.656337%201%0A0.1233%200.612885%201%0A0.1611%200.520336%201%0A0.2104%200.511048%201%0A0.2748%200.489906%201%0A0.359%200.474634%201%0A0.4689%200.43975%201%0A0.6125%200.453058%201%0A%0A%23%20DATA%20dum%3D6e4%20%0A%23%20TAG%20%3D%2060kHz_1%0A0.005%201.67743%201%0A0.0065%201.65957%201%0A0.0085%201.54633%201%0A0.0111%201.46902%201%0A0.0146%201.35088%201%0A0.019%201.30594%201%0A0.0248%201.17936%201%0A0.0324%201.08681%201%0A0.0424%200.980014%201%0A0.0553%200.872755%201%0A0.0723%200.756062%201%0A0.0944%200.667446%201%0A0.1233%200.588328%201%0A0.1611%200.529467%201%0A0.2104%200.509894%201%0A0.2748%200.496238%201%0A0.359%200.47863%201%0A0.4689%200.472868%201%0A0.6125%200.461567%201%0A0.8%200.441352%201%0A%0A%23%20DATA%20dum%3D8e4%20%0A%23%20TAG%20%3D%2080kHz_1%0A0.005%201.68464%201%0A0.0065%201.64876%201%0A0.0085%201.58906%201%0A0.0111%201.47363%201%0A0.0146%201.38443%201%0A0.019%201.29973%201%0A0.0248%201.17347%201%0A0.0324%201.07384%201%0A0.0424%200.970928%201%0A0.0553%200.873867%201%0A0.0723%200.761752%201%0A0.0944%200.646774%201%0A0.1233%200.614775%201%0A0.1611%200.546294%201%0A0.2104%200.506751%201%0A0.2748%200.488599%201%0A0.359%200.489851%201%0A0.4689%200.460297%201%0A0.6125%200.428433%201%0A0.8%200.426257%201%0A%0A%23%20DATA%20dum%3D1e5%20%0A%23%20TAG%20%3D%20100kHz_1%0A0.005%201.86449%201%0A0.0065%201.76013%201%0A0.0085%201.68771%201%0A0.0111%201.60633%201%0A0.0146%201.47617%201%0A0.019%201.39716%201%0A0.0248%201.27501%201%0A0.0324%201.17132%201%0A0.0424%201.05866%201%0A0.0553%200.904536%201%0A0.0723%200.824896%201%0A0.0944%200.712848%201%0A0.1233%200.655203%201%0A0.1611%200.579706%201%0A0.2104%200.546979%201%0A0.2748%200.52521%201%0A0.359%200.52713%201%0A0.4689%200.49967%201%0A0.6125%200.490338%201%0A0.8%200.487135%201%0A%0A%23%20DATA%20dum%3D1.5e5%20%0A%23%20TAG%20%3D%20150kHz_1%0A0.005%201.80372%201%0A0.0065%201.7773%201%0A0.0085%201.72078%201%0A0.0111%201.609%201%0A0.0146%201.49355%201%0A0.019%201.39508%201%0A0.0248%201.27858%201%0A0.0324%201.20703%201%0A0.0424%201.05146%201%0A0.0553%200.959744%201%0A0.0723%200.843341%201%0A0.0944%200.755728%201%0A0.1233%200.669826%201%0A0.1611%200.604391%201%0A0.2104%200.551922%201%0A0.2748%200.544176%201%0A0.359%200.523354%201%0A0.4689%200.519396%201%0A0.6125%200.502472%201%0A0.8%200.477497%201%0A%0A%23%20DATA%20dum%3D2e5%20%0A%23%20TAG%20%3D%20200kHz_1%0A0.0065%201.75226%201%0A0.0085%201.68991%201%0A0.0111%201.58646%201%0A0.0146%201.44794%201%0A0.019%201.39528%201%0A0.0248%201.29984%201%0A0.0324%201.15931%201%0A0.0424%201.06518%201%0A0.0553%200.967752%201%0A0.0723%200.849758%201%0A0.0944%200.748743%201%0A0.1233%200.706957%201%0A0.1611%200.6243%201%0A0.2104%200.531325%201%0A0.2748%200.560469%201%0A0.359%200.519%201%0A0.4689%200.519599%201%0A0.6125%200.501624%201%0A0.8%200.488484%201%0A%0A%23%20DATA%20dum%3D3e5%20%0A%23%20TAG%20%3D%20300kHz_1%0A0.005%201.85768%201%0A0.0065%201.81695%201%0A0.0085%201.76671%201%0A0.0111%201.64202%201%0A0.0146%201.55432%201%0A0.019%201.42995%201%0A0.0248%201.32895%201%0A0.0324%201.20115%201%0A0.0424%201.10339%201%0A0.0553%200.990503%201%0A0.0723%200.890115%201%0A0.0944%200.796821%201%0A0.1233%200.706084%201%0A0.1611%200.629031%201%0A0.2104%200.6149%201%0A0.2748%200.575714%201%0A0.359%200.528186%201%0A0.4689%200.545048%201%0A0.6125%200.536361%201%0A0.8%200.499703%201%0A%0A%23%20DATA%20dum%3D4e5%20%0A%23%20TAG%20%3D%20400kHz_1%0A0.005%201.91368%201%0A0.0065%201.84427%201%0A0.0085%201.82188%201%0A0.0111%201.69668%201%0A0.0146%201.54406%201%0A0.019%201.45768%201%0A0.0248%201.39022%201%0A0.0324%201.26942%201%0A0.0424%201.14513%201%0A0.0553%201.0355%201%0A0.0723%200.929113%201%0A0.0944%200.830766%201%0A0.1233%200.74839%201%0A0.1611%200.696261%201%0A0.2104%200.650392%201%0A0.2748%200.614568%201%0A0.359%200.592781%201%0A0.4689%200.579327%201%0A0.6125%200.553688%201%0A%0A%23%20DATA%20dum%3D6e5%20%0A%23%20TAG%20%3D%20600kHz_1%0A0.005%201.83583%201%0A0.0065%201.78176%201%0A0.0085%201.70777%201%0A0.0111%201.64164%201%0A0.0146%201.56059%201%0A0.019%201.45421%201%0A0.0248%201.38126%201%0A0.0324%201.28319%201%0A0.0424%201.16567%201%0A0.0553%201.07201%201%0A0.0723%200.978647%201%0A0.0944%200.869269%201%0A0.1233%200.805781%201%0A0.1611%200.725299%201%0A0.2104%200.669211%201%0A0.2748%200.659503%201%0A0.359%200.641782%201%0A0.4689%200.626233%201%0A0.6125%200.609437%201%0A0.8%200.578246%201%0A%0A%23%20DATA%20dum%3D8e5%20%0A%23%20TAG%20%3D%20800kHz_1%0A0.005%201.94122%201%0A0.0065%201.86525%201%0A0.0085%201.7901%201%0A0.0111%201.74821%201%0A0.0146%201.64013%201%0A0.019%201.54728%201%0A0.0248%201.446%201%0A0.0324%201.35235%201%0A0.0424%201.24407%201%0A0.0553%201.15877%201%0A0.0723%201.05791%201%0A0.0944%201.01642%201%0A0.1233%200.887518%201%0A0.1611%200.833821%201%0A0.2104%200.77635%201%0A0.2748%200.759673%201%0A0.359%200.708086%201%0A0.4689%200.698683%201%0A0.6125%200.693318%201%0A0.8%200.654418%201%0A%0A%23%20DATA%20dum%3D1e6%20%0A%23%20TAG%20%3D%201MHz_1%0A0.005%201.83674%201%0A0.0065%201.79876%201%0A0.0085%201.70132%201%0A0.0111%201.63364%201%0A0.0146%201.58018%201%0A0.019%201.48601%201%0A0.0248%201.40079%201%0A0.0324%201.33582%201%0A0.0424%201.20781%201%0A0.0553%201.13292%201%0A0.0723%201.03594%201%0A0.0944%200.952752%201%0A0.1233%200.847677%201%0A0.1611%200.80695%201%0A0.2104%200.772989%201%0A0.2748%200.731979%201%0A0.359%200.690734%201%0A0.4689%200.697837%201%0A0.6125%200.647924%201%0A%0A%23%20DATA%20dum%3D1e6%20%0A%23%20TAG%20%3D%201MHz_2%0A0.005%201.82064%201%0A0.0065%201.78922%201%0A0.0085%201.70363%201%0A0.0146%201.56555%201%0A0.019%201.49434%201%0A0.0248%201.42217%201%0A0.0324%201.30637%201%0A0.0424%201.21104%201%0A0.0553%201.12604%201%0A0.0723%201.01937%201%0A0.0944%200.951274%201%0A0.1233%200.869921%201%0A0.1611%200.811367%201%0A0.2104%200.765631%201%0A0.2748%200.753288%201%0A0.359%200.708067%201%0A0.4689%200.711067%201%0A0.6125%200.681594%201%0A0.8%200.645789%201%0A%0A%23%20DATA%20dum%3D1e6%20%0A%23%20TAG%20%3D%201MHz_3%0A0.005%201.94122%201%0A0.0065%201.86525%201%0A0.0085%201.7901%201%0A0.0111%201.74821%201%0A0.0146%201.64013%201%0A0.019%201.54728%201%0A0.0248%201.446%201%0A0.0324%201.35235%201%0A0.0424%201.24407%201%0A0.0553%201.15877%201%0A0.0723%201.05791%201%0A0.0944%201.01642%201%0A0.1233%200.887518%201%0A0.1611%200.833821%201%0A0.2104%200.77635%201%0A0.2748%200.759673%201%0A0.359%200.708086%201%0A0.4689%200.698683%201%0A0.6125%200.693318%201%0A0.8%200.654418%201%0A%0A%23%20DATA%20dum%3D1.5e6%20%0A%23%20TAG%20%3D%201.5MHz_1%0A0.005%201.90437%201%0A0.0065%201.84124%201%0A0.0085%201.78631%201%0A0.0111%201.7587%201%0A0.0146%201.63204%201%0A0.019%201.5618%201%0A0.0248%201.4984%201%0A0.0324%201.38115%201%0A0.0424%201.33123%201%0A0.0553%201.1919%201%0A0.0723%201.13964%201%0A0.0944%201.07517%201%0A0.1233%200.985434%201%0A0.1611%200.947%201%0A0.2104%200.881396%201%0A0.2748%200.862178%201%0A0.359%200.818745%201%0A0.4689%200.829887%201%0A0.6125%200.796477%201%0A0.8%200.792283%201%0A%0A%23%20DATA%20dum%3D1.5e6%20%0A%23%20TAG%20%3D%201.5MHz_2%0A0.0065%201.80918%201%0A0.0085%201.75404%201%0A0.0111%201.70815%201%0A0.0146%201.60633%201%0A0.019%201.54826%201%0A0.0248%201.44627%201%0A0.0324%201.3901%201%0A0.0424%201.29715%201%0A0.0553%201.22726%201%0A0.0723%201.14175%201%0A0.0944%201.07553%201%0A0.1233%200.989396%201%0A0.1611%200.919058%201%0A0.2104%200.895349%201%0A0.2748%200.851408%201%0A0.359%200.849992%201%0A0.4689%200.801846%201%0A0.6125%200.793575%201%0A0.8%200.784847%201%0A%0A%23%20DATA%20dum%3D1.5e6%20%0A%23%20TAG%20%3D%201.5MHz_3%0A0.005%201.83814%201%0A0.0065%201.80057%201%0A0.0085%201.72212%201%0A0.0111%201.69329%201%0A0.0146%201.60719%201%0A0.019%201.50864%201%0A0.0248%201.44588%201%0A0.0324%201.36735%201%0A0.0424%201.28028%201%0A0.0553%201.20171%201%0A0.0723%201.12386%201%0A0.0944%201.05322%201%0A0.1233%200.989815%201%0A0.1611%200.919142%201%0A0.2104%200.859941%201%0A0.2748%200.854785%201%0A0.359%200.818722%201%0A0.4689%200.800464%201%0A0.6125%200.778128%201%0A0.8%200.783985%201%0A%0A%23%20DATA%20dum%3D2e6%20%0A%23%20TAG%20%3D%202MHz_1%0A0.005%201.94915%201%0A0.0065%201.90265%201%0A0.0085%201.85957%201%0A0.0111%201.78738%201%0A0.0146%201.72531%201%0A0.019%201.65476%201%0A0.0248%201.60806%201%0A0.0324%201.51964%201%0A0.0424%201.39498%201%0A0.0553%201.3396%201%0A0.0723%201.24089%201%0A0.0944%201.15102%201%0A0.1233%201.10853%201%0A0.1611%201.03914%201%0A0.2104%201.01826%201%0A0.2748%200.974512%201%0A0.359%200.950234%201%0A0.4689%200.918511%201%0A0.6125%200.928267%201%0A0.8%200.915013%201%0A%0A%23%20DATA%20dum%3D2e6%20%0A%23%20TAG%20%3D%202MHz_2%0A0.005%201.90547%201%0A0.0065%201.83194%201%0A0.0085%201.84007%201%0A0.0111%201.73359%201%0A0.0146%201.63336%201%0A0.019%201.59025%201%0A0.0248%201.51966%201%0A0.0324%201.43891%201%0A0.0424%201.36403%201%0A0.0553%201.30204%201%0A0.0723%201.18078%201%0A0.0944%201.11637%201%0A0.1233%201.08736%201%0A0.1611%200.989025%201%0A0.2104%200.977826%201%0A0.2748%200.946573%201%0A0.359%200.905411%201%0A0.4689%200.906142%201%0A0.6125%200.898385%201%0A0.8%200.879855%201%0A%0A%23%20DATA%20dum%3D2e6%20%0A%23%20TAG%20%3D%202MHz_3%0A0.005%201.8646%201%0A0.0065%201.79652%201%0A0.0085%201.75285%201%0A0.0111%201.73124%201%0A0.0146%201.61861%201%0A0.019%201.56932%201%0A0.0248%201.52078%201%0A0.0324%201.44917%201%0A0.0424%201.3271%201%0A0.0553%201.28658%201%0A0.0723%201.19531%201%0A0.0944%201.14883%201%0A0.1233%201.07481%201%0A0.1611%201.02431%201%0A0.2104%200.993753%201%0A0.2748%200.95987%201%0A0.359%200.929586%201%0A0.4689%200.922811%201%0A0.6125%200.950058%201%0A0.8%200.889958%201%0A%0A%23%20DATA%20dum%3D3e6%20%0A%23%20TAG%20%3D%203MHz_1%0A0.005%202.03146%201%0A0.0065%201.96819%201%0A0.0084%201.94745%201%0A0.0109%201.89294%201%0A0.0142%201.89075%201%0A0.0184%201.83862%201%0A0.0238%201.71815%201%0A0.0309%201.69364%201%0A0.0401%201.5828%201%0A0.0519%201.53789%201%0A0.0674%201.47167%201%0A0.0874%201.38155%201%0A0.1133%201.35753%201%0A0.147%201.32059%201%0A0.1907%201.25893%201%0A0.2473%201.22962%201%0A0.3208%201.23488%201%0A0.5397%201.22415%201%0A0.7%201.21505%201%0A%0A%23%20DATA%20dum%3D3e6%20%0A%23%20TAG%20%3D%203MHz_2%0A0.005%201.93095%201%0A0.0065%201.90356%201%0A0.0084%201.88356%201%0A0.0109%201.83856%201%0A0.0142%201.75831%201%0A0.0184%201.7436%201%0A0.0238%201.63689%201%0A0.0309%201.55313%201%0A0.0401%201.49496%201%0A0.0519%201.48903%201%0A0.0674%201.39216%201%0A0.0874%201.32932%201%0A0.1133%201.25987%201%0A0.147%201.23336%201%0A0.1907%201.19439%201%0A0.2473%201.16088%201%0A0.3208%201.16839%201%0A0.4161%201.13212%201%0A0.5397%201.12939%201%0A0.7%201.12006%201%0A%0A%23%20DATA%20dum%3D3e6%20%0A%23%20TAG%20%3D%203MHz_3%0A0.005%201.94805%201%0A0.0109%201.86561%201%0A0.0142%201.77866%201%0A0.0184%201.69548%201%0A0.0238%201.6548%201%0A0.0309%201.5892%201%0A0.0401%201.53914%201%0A0.0519%201.46495%201%0A0.0674%201.39328%201%0A0.0874%201.34051%201%0A0.1133%201.29815%201%0A0.147%201.25634%201%0A0.1907%201.20214%201%0A0.2473%201.16918%201%0A0.3208%201.13999%201%0A0.4161%201.13255%201%0A0.5397%201.12739%201%0A%0A%23%20DATA%20dum%3D4e6%20%0A%23%20TAG%20%3D%204MHz_1%0A0.005%200.648864%201%0A0.0065%200.69073%201%0A0.0084%200.724623%201%0A0.0109%200.78307%201%0A0.0142%200.8357%201%0A0.0184%200.883777%201%0A0.0238%200.94812%201%0A0.0309%200.998839%201%0A0.0401%201.05456%201%0A0.0519%201.12146%201%0A0.0674%201.20156%201%0A0.0874%201.21374%201%0A0.1133%201.277%201%0A0.147%201.29668%201%0A0.1907%201.31863%201%0A0.2473%201.34073%201%0A0.3208%201.31866%201%0A0.4161%201.36019%201%0A0.5397%201.36973%201%0A0.7%201.37758%201%0A%0A%23%20DATA%20dum%3D4e6%20%0A%23%20TAG%20%3D%204MHz_2%0A0.005%200.652777%201%0A0.0065%200.710014%201%0A0.0084%200.71757%201%0A0.0109%200.771395%201%0A0.0142%200.835452%201%0A0.0184%200.890144%201%0A0.0238%200.930094%201%0A0.0309%200.980042%201%0A0.0401%201.06411%201%0A0.0519%201.11677%201%0A0.0674%201.1806%201%0A0.0874%201.24901%201%0A0.1133%201.24656%201%0A0.147%201.31016%201%0A0.1907%201.30212%201%0A0.2473%201.3099%201%0A0.3208%201.35128%201%0A0.4161%201.33114%201%0A0.5397%201.37406%201%0A0.7%201.37608%201%0A%0A%23%20DATA%20dum%3D4e6%20%0A%23%20TAG%20%3D%204MHz_3%0A0.005%200.629907%201%0A0.0065%200.670293%201%0A0.0084%200.735789%201%0A0.0109%200.77797%201%0A0.0142%200.80459%201%0A0.0184%200.894759%201%0A0.0238%200.909743%201%0A0.0309%201.00525%201%0A0.0401%201.07475%201%0A0.0519%201.12472%201%0A0.0674%201.18445%201%0A0.0874%201.24209%201%0A0.1133%201.26519%201%0A0.147%201.3056%201%0A0.1907%201.30585%201%0A0.2473%201.33436%201%0A0.3208%201.36351%201%0A0.4161%201.42189%201%0A0.5397%201.35925%201%0A0.7%201.33514%201%0A%0A%23%20DATA%20dum%3D6e6%20%0A%23%20TAG%20%3D%206MHz_1%0A0.005%200.678454%201%0A0.0065%200.741156%201%0A0.0084%200.783181%201%0A0.0109%200.853069%201%0A0.0142%200.938614%201%0A0.0184%201.00054%201%0A0.0238%201.12397%201%0A0.0309%201.16676%201%0A0.0401%201.27621%201%0A0.0519%201.35086%201%0A0.0674%201.40528%201%0A0.0874%201.48508%201%0A0.1133%201.51159%201%0A0.147%201.58816%201%0A0.1907%201.59023%201%0A0.2473%201.64973%201%0A0.3208%201.64771%201%0A0.4161%201.6821%201%0A0.5397%201.6397%201%0A0.7%201.69345%201%0A%0A%23%20DATA%20dum%3D6e6%20%0A%23%20TAG%20%3D%206MHz_2%0A0.005%200.657844%201%0A0.0065%200.71375%201%0A0.0084%200.762467%201%0A0.0109%200.818086%201%0A0.0142%200.907162%201%0A0.0184%200.985913%201%0A0.0238%201.07777%201%0A0.0309%201.18093%201%0A0.0401%201.22807%201%0A0.0519%201.29557%201%0A0.0674%201.34995%201%0A0.0874%201.41248%201%0A0.1133%201.46592%201%0A0.147%201.50821%201%0A0.1907%201.53668%201%0A0.2473%201.55193%201%0A0.3208%201.54773%201%0A0.4161%201.58068%201%0A0.5397%201.53847%201%0A0.7%201.56013%201%0A%0A%23%20DATA%20dum%3D6e6%20%0A%23%20TAG%20%3D%206MHz_3%0A0.005%200.66568%201%0A0.0065%200.731611%201%0A0.0084%200.788334%201%0A0.0109%200.831269%201%0A0.0142%200.925963%201%0A0.0184%200.983842%201%0A0.0238%201.08649%201%0A0.0309%201.13943%201%0A0.0401%201.21291%201%0A0.0519%201.28113%201%0A0.0674%201.34138%201%0A0.0874%201.39289%201%0A0.1133%201.40835%201%0A0.147%201.48389%201%0A0.1907%201.51443%201%0A0.2473%201.55735%201%0A0.3208%201.57518%201%0A0.4161%201.59294%201%0A0.5397%201.57656%201%0A0.7%201.58382%201%0A%0A%23%20DATA%20dum%3D8.86349e6%20%0A%23%20TAG%20%3D%208.86349MHz_1%0A0.005%200.395996%201%0A0.0065%200.539301%201%0A0.0084%200.650028%201%0A0.0109%200.78662%201%0A0.0142%200.9631%201%0A0.0184%201.06765%201%0A0.0238%201.2368%201%0A0.0309%201.38276%201%0A0.0401%201.50629%201%0A0.0519%201.60631%201%0A0.0674%201.70026%201%0A0.0874%201.79601%201%0A0.1133%201.90107%201%0A0.147%201.93282%201%0A0.1907%202.00979%201%0A0.2473%202.06168%201%0A0.3208%202.05922%201%0A0.4161%202.06597%201%0A0.5397%202.12629%201%0A0.7%202.11943%201%0A%0A%23%20DATA%20dum%3D8.86349e6%20%0A%23%20TAG%20%3D%208.86349MHz_2%0A0.005%200.386186%201%0A0.0065%200.520053%201%0A0.0084%200.626996%201%0A0.0109%200.759014%201%0A0.0142%200.944091%201%0A0.0184%201.07928%201%0A0.0238%201.24103%201%0A0.0309%201.34447%201%0A0.0401%201.44568%201%0A0.0519%201.56196%201%0A0.0674%201.72852%201%0A0.0874%201.83592%201%0A0.1133%201.91399%201%0A0.147%201.99459%201%0A0.1907%202.02123%201%0A0.2473%202.0394%201%0A0.3208%202.11397%201%0A0.4161%202.13523%201%0A0.5397%202.11616%201%0A0.7%202.16268%201%0A%0A%23%20DATA%20dum%3D8.86349e6%20%0A%23%20TAG%20%3D%208.86349MHz_3%0A0.005%200.384017%201%0A0.0065%200.515794%201%0A0.0084%200.652269%201%0A0.0109%200.777082%201%0A0.0142%200.953728%201%0A0.0184%201.07455%201%0A0.0238%201.24228%201%0A0.0309%201.37955%201%0A0.0401%201.50056%201%0A0.0519%201.58435%201%0A0.0674%201.71189%201%0A0.0874%201.82128%201%0A0.1133%201.93191%201%0A0.147%202.02544%201%0A0.1907%202.05133%201%0A0.2473%202.15176%201%0A0.4161%202.18731%201%0A0.5397%202.15543%201%0A0.7%202.20118%201%0A%0A%23%20DATA%20dum%3D15.5e6%20%0A%23%20TAG%20%3D%2015.5MHz%0A8e-05%20-0.7674%201%0A0.00049984%20-0.7334%201%0A0.00062464%20-0.7203%201%0A0.00078048%20-0.691%201%0A0.00097536%20-0.6722%201%0A0.0012188%20-0.6659%201%0A0.00152304%20-0.6399%201%0A0.0019032%20-0.6084%201%0A0.00237824%20-0.5703%201%0A0.00297184%20-0.531%201%0A0.00371368%20-0.4738%201%0A0.00464064%20-0.4185%201%0A0.00579896%20-0.3512%201%0A0.00724648%20-0.2795%201%0A0.0090552%20-0.1927%201%0A0.0113154%20-0.1054%201%0A0.0141399%20-0.01391%201%0A0.0176694%200.08385%201%0A0.0220798%200.1832%201%0A0.0275912%200.2841%201%0A0.0344782%200.3855%201%0A0.043084%200.4819%201%0A0.0538384%200.573%201%0A0.0672772%200.6607%201%0A0.08408%200.7389%201%0A0.10504%200.8063%201%0A0.13128%200.864%201%0A0.16408%200.9052%201%0A0.20496%200.9403%201%0A0.25616%200.9628%201%0A0.32008%200.9776%201%0A0.8%201%201%0A%0A%23%20DATA%20dum%3D21.44e6%20%0A%23%20TAG%20%3D%2021.44MHz%0A8e-05%20-0.8196%201%0A0.00049984%20-0.7793%201%0A0.00062464%20-0.768%201%0A0.00078048%20-0.7573%201%0A0.00097536%20-0.745%201%0A0.0012188%20-0.7207%201%0A0.00152304%20-0.6947%201%0A0.0019032%20-0.6669%201%0A0.00237824%20-0.6289%201%0A0.00297184%20-0.5861%201%0A0.00371368%20-0.538%201%0A0.00464064%20-0.4803%201%0A0.00579896%20-0.4124%201%0A0.00724648%20-0.3382%201%0A0.0090552%20-0.255%201%0A0.0113154%20-0.1673%201%0A0.0141399%20-0.07389%201%0A0.0176694%200.02565%201%0A0.0220798%200.1277%201%0A0.0275912%200.2323%201%0A0.0344782%200.3373%201%0A0.043084%200.4378%201%0A0.0538384%200.5354%201%0A0.0672772%200.6264%201%0A0.08408%200.7125%201%0A0.10504%200.782%201%0A0.13128%200.843%201%0A0.16408%200.8934%201%0A0.20496%200.9308%201%0A0.25616%200.9593%201%0A0.32008%200.9765%201%0A0.8%201%201%0A%0A%23%20DATA%20dum%3D27e6%20%0A%23%20TAG%20%3D%2027MHz%0A0.0002%20-0.7911%201%0A0.0012496%20-0.7134%201%0A0.0015616%20-0.6886%201%0A0.0019512%20-0.6619%201%0A0.0024384%20-0.6289%201%0A0.003047%20-0.5906%201%0A0.0038076%20-0.5483%201%0A0.004758%20-0.4922%201%0A0.0059456%20-0.4346%201%0A0.0074296%20-0.3668%201%0A0.0092842%20-0.2957%201%0A0.0116016%20-0.2016%201%0A0.0144974%20-0.1142%201%0A0.0181162%20-0.01426%201%0A0.022638%200.08535%201%0A0.0282886%200.1946%201%0A0.0353498%200.2973%201%0A0.0441734%200.3936%201%0A0.0551996%200.4929%201%0A0.068978%200.5887%201%0A0.0861954%200.679%201%0A0.10771%200.7525%201%0A0.134596%200.821%201%0A0.168193%200.874%201%0A0.2102%200.9169%201%0A0.2626%200.9495%201%0A0.3282%200.9767%201%0A0.4102%200.9798%201%0A0.5124%200.9897%201%0A0.6404%201%201%0A0.8002%200.996%201%0A2%200.9957%201%0A%0A%23%20DATA%20dum%3D42.22e6%20%0A%23%20TAG%20%3D%2042.22MHz%0A0.0002%20-0.7525%201%0A0.0012496%20-0.7008%201%0A0.0015616%20-0.6876%201%0A0.0019512%20-0.6711%201%0A0.0024384%20-0.6508%201%0A0.003047%20-0.6251%201%0A0.0038076%20-0.5948%201%0A0.004758%20-0.5572%201%0A0.0059456%20-0.5153%201%0A0.0074296%20-0.4642%201%0A0.0092842%20-0.4052%201%0A0.0116016%20-0.339%201%0A0.0144974%20-0.2623%201%0A0.0181162%20-0.1784%201%0A0.022638%20-0.08691%201%0A0.0282886%200.01052%201%0A0.0353498%200.1137%201%0A0.0441734%200.2177%201%0A0.0551996%200.3239%201%0A0.068978%200.4297%201%0A0.0861954%200.5312%201%0A0.10771%200.6261%201%0A0.134596%200.713%201%0A0.168193%200.7887%201%0A0.2102%200.8514%201%0A0.2626%200.902%201%0A0.3282%200.9389%201%0A0.4102%200.9668%201%0A0.5124%200.9834%201%0A0.6404%200.9925%201%0A0.8002%200.9966%201%0A2%201%201%0A%0A%23%20DATA%20dum%3D67.41e6%20%0A%23%20TAG%20%3D%2067.41MHz%0A0.0003%20-0.9241%201%0A0.0018744%20-0.8789%201%0A0.0023424%20-0.8661%201%0A0.0029268%20-0.8505%201%0A0.0036576%20-0.8334%201%0A0.0045705%20-0.8087%201%0A0.0057114%20-0.7806%201%0A0.007137%20-0.7479%201%0A0.0089184%20-0.7039%201%0A0.0111444%20-0.6508%201%0A0.0139263%20-0.5874%201%0A0.0174024%20-0.5137%201%0A0.0217461%20-0.4305%201%0A0.0271743%20-0.3391%201%0A0.033957%20-0.2385%201%0A0.0424329%20-0.1291%201%0A0.0530247%20-0.0129%201%0A0.0662601%200.1083%201%0A0.0827994%200.2324%201%0A0.103467%200.3531%201%0A0.129293%200.4708%201%0A0.161565%200.5851%201%0A0.201894%200.6881%201%0A0.252289%200.7749%201%0A0.3153%200.8458%201%0A0.3939%200.901%201%0A0.4923%200.9433%201%0A0.6153%200.969%201%0A0.7686%200.9884%201%0A0.9606%200.9901%201%0A1.2003%200.9943%201%0A3%201%201%0A%0A%23%20DATA%20dum%3D90.5e6%20%0A%23%20TAG%20%3D%2090.5MHz%0A0.0005%20-0.8796%201%0A0.003124%20-0.8276%201%0A0.003904%20-0.8105%201%0A0.004878%20-0.7941%201%0A0.006096%20-0.7709%201%0A0.0076175%20-0.7455%201%0A0.009519%20-0.7102%201%0A0.011895%20-0.6721%201%0A0.014864%20-0.6258%201%0A0.018574%20-0.5668%201%0A0.0232105%20-0.5048%201%0A0.029004%20-0.4264%201%0A0.0362435%20-0.3404%201%0A0.0452905%20-0.2479%201%0A0.056595%20-0.1397%201%0A0.0707215%20-0.02551%201%0A0.0883745%200.08931%201%0A0.110434%200.2157%201%0A0.137999%200.3374%201%0A0.172445%200.4562%201%0A0.215488%200.5704%201%0A0.269275%200.6758%201%0A0.33649%200.7672%201%0A0.420482%200.8403%201%0A0.5255%200.8998%201%0A0.6565%200.9415%201%0A0.8205%200.9697%201%0A1.0255%200.9838%201%0A1.281%200.9904%201%0A1.601%200.9973%201%0A2.0005%200.9984%201%0A5%201%201%0A%0A%23%20DATA%20dum%3D300e6%20%0A%23%20TAG%20%3D%20300MHz%0A0.0007%20-0.7827%201%0A0.0043736%20-0.7603%201%0A0.0054656%20-0.7545%201%0A0.0068292%20-0.7474%201%0A0.0085344%20-0.7379%201%0A0.0106645%20-0.7252%201%0A0.0133266%20-0.711%201%0A0.016653%20-0.6934%201%0A0.0208096%20-0.6719%201%0A0.0260036%20-0.6451%201%0A0.0324947%20-0.6135%201%0A0.0406056%20-0.5752%201%0A0.0507409%20-0.5289%201%0A0.0634067%20-0.4732%201%0A0.079233%20-0.4072%201%0A0.0990101%20-0.3309%201%0A0.123724%20-0.2441%201%0A0.154607%20-0.1451%201%0A0.193199%20-0.03534%201%0A0.241423%200.0838%201%0A0.301684%200.2097%201%0A0.376985%200.3387%201%0A0.471086%200.4671%201%0A0.588675%200.5891%201%0A0.7357%200.7006%201%0A0.9191%200.7962%201%0A1.1487%200.8735%201%0A1.4357%200.9279%201%0A1.7934%200.9634%201%0A2.2414%200.984%201%0A2.8007%200.9939%201%0A7%201%201
DataFormulas=%23%20comment%20lines%20start%20with%20%22%23%22%0D%0A%23%20check%20the%20%22Calculate%20How%20To%22%20link%20just%20below%0D%0Ac1%20c2%201
DataUploadFile=
AscaleX=no
AscaleY=no
Xname=%5Cxt%5C4%28s%29
Yname=Mz%28u.a%29
Xmin=0.0005
Ymin=-2
Xmax=10
Ymax=3
Xmaj=10
Ymaj=0.5
Xstep=9
Ystep=1
Xgrid=off
Ygrid=off
Xtype=Logarithmic
Ytype=Normal
Xformat=power
Yformat=decimal
Xprecision=0
Yprecision=1
Num=100
SymbSize=1.0
ErrorBars=off
ShowTags=on
Titulo=
TituloPosx=0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005%5C%2C0.0005
TituloPosy=-0.5%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2%5C%2C-2
Func0=%5C-%5C-M%5Csinf%5CN
Traco0=3-dashed
Cor0=2-red
Funcx0=auto
Funcy0=auto
Func1=%5C-%5C-T%5Cs11%5CN%5C-%5C-%20%28c%29
Traco1=4-long%20dashes
Cor1=3-green
Funcx1=auto
Funcy1=auto
Func2=%5C-%5C-T%5Cs12%5CN%5C-%5C-%20%281-c%29
Traco2=5-dot%20dashed
Cor2=4-blue
Funcx2=auto
Funcy2=auto
Grafico=recta.png
X=tau
T=dum
Y=Mz
Parameters=Minf%2CM0%2CT11%2Cc%2CT12
SeeAuxCode=off
Function=Mz%3DMinf%5C%2B%28%28dum%3E3500e3%29%3F%28M0-Minf%29%3A-%28M0-Minf%29%29%2Ac%2Aexp%28-tau%2FT11%29%5C%2B%28%28dum%3E3500e3%29%3F%28M0-Minf%29%3A%20-%28M0-Minf%29%29%2A%281-c%29%2Aexp%28-tau%2FT12%29
SimulFitOutput=%23%20TAG%20T%5B1%5D%20%20chi2t%20Minf%20%20%20%20%20M0%20%20%20%20%20T11%20%20%20%20%20c%20%20%20%20%20T12%0D%0A15kHz_1%201.5e4%200.0131756%204.79380e-01%20-8.17063e-01%204.19862e-02%201.00000e%2B00%201.00000e%2B00%0D%0A20kHz_1%202e4%200.0102867%204.67637e-01%20-7.82241e-01%204.55892e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A30kHz_1%203e4%200.0168295%204.63462e-01%20-8.28453e-01%204.42748e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A40kHz_1%204e4%200.0125332%204.83589e-01%20-8.17100e-01%204.31176e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A60kHz_1%206e4%200.0170998%204.86013e-01%20-8.05945e-01%204.37116e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A80kHz_1%208e4%200.0221172%204.80230e-01%20-8.32609e-01%204.35737e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A100kHz_1%201e5%200.0224365%205.26265e-01%20-8.93750e-01%204.22455e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A150kHz_1%201.5e5%200.0236708%205.32799e-01%20-8.53618e-01%204.53532e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A200kHz_1%202e5%200.0271944%205.32244e-01%20-7.93217e-01%204.81981e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A300kHz_1%203e5%200.0297725%205.63266e-01%20-8.38391e-01%204.54447e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A400kHz_1%204e5%200.0318617%206.16216e-01%20-7.77176e-01%204.46138e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A600kHz_1%206e5%200.0210329%206.38861e-01%20-6.17203e-01%205.14822e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A800kHz_1%208e5%200.0385982%207.27595e-01%20-5.24318e-01%205.18102e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A1MHz_1%201e6%200.0233974%207.14883e-01%20-4.52558e-01%205.27287e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A1MHz_2%201e6%200.0219954%207.18199e-01%20-4.45865e-01%205.22472e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A1MHz_3%201e6%200.0385982%207.27595e-01%20-5.24318e-01%205.18102e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A1.5MHz_1%201.5e6%200.0274204%208.41694e-01%20-2.65719e-01%205.16154e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A1.5MHz_2%201.5e6%200.0213127%208.31262e-01%20-2.03372e-01%205.76931e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A1.5MHz_3%201.5e6%200.025078%208.26307e-01%20-2.24457e-01%205.39543e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A2MHz_1%202e6%200.0152947%209.53731e-01%20-8.79689e-02%205.47170e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A2MHz_2%202e6%200.0250001%209.25747e-01%20-8.88166e-02%205.21659e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A2MHz_3%202e6%200.0190812%209.47542e-01%202.51354e-03%205.27568e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A3MHz_1%203e6%200.00882975%201.23662e%2B00%203.96100e-01%205.04866e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A3MHz_2%203e6%200.0144648%201.15415e%2B00%203.19357e-01%205.06967e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A3MHz_3%203e6%200.0138406%201.15862e%2B00%203.39027e-01%205.37330e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A4MHz_1%204e6%200.00874817%201.34090e%2B00%205.96475e-01%204.11490e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A4MHz_2%204e6%200.0091477%201.33709e%2B00%206.00802e-01%204.19592e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A4MHz_3%204e6%200.0139891%201.34649e%2B00%205.78572e-01%204.07913e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A6MHz_1%206e6%200.0218475%201.63726e%2B00%206.03204e-01%204.03204e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A6MHz_2%206e6%200.0143588%201.53802e%2B00%205.62216e-01%203.50413e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A6MHz_3%206e6%200.0271155%201.54838e%2B00%206.18855e-01%204.10772e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A8.86349MHz_1%208.86349e6%200.0879306%202.03295e%2B00%202.67632e-01%203.36222e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A8.86349MHz_2%208.86349e6%200.0887513%202.06922e%2B00%202.73951e-01%203.63909e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A8.86349MHz_3%208.86349e6%200.108669%202.10871e%2B00%202.92330e-01%203.76639e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A15.5MHz%2015.5e6%200.0927077%209.04292e-01%20-7.02833e-01%202.85714e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A21.44MHz%2021.44e6%200.0963534%209.00013e-01%20-7.56046e-01%203.03283e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A27MHz%2027e6%200.0934423%209.40433e-01%20-7.06226e-01%203.79883e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A42.22MHz%2042.22e6%200.0681948%209.39938e-01%20-6.91184e-01%205.59443e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A67.41MHz%2067.41e6%200.0549125%209.46525e-01%20-8.80665e-01%208.82289e-02%201.00000e%2B00%201.00000e%2B00%20%0D%0A90.5MHz%2090.5e6%200.0442542%209.57510e-01%20-8.32594e-01%201.27354e-01%201.00000e%2B00%201.00000e%2B00%20%0D%0A300MHz%20300e6%200.0109231%209.69971e-01%20-7.64320e-01%203.68397e-01%201.00000e%2B00%201.00000e%2B00%20%0D%0A
.cgifields=F0
.cgifields=F2
.cgifields=F4
.cgifields=F3
.cgifields=SelectAll
.cgifields=F1
.cgifields=Registo
.cgifields=Tags
=
END_SAV

"$folder/nodejs-ofe.ts".IO.spurt: q:to/END_JS/;
// Import the required modules
const readFile = require("fs").promises.readFile;
const writeFile = require("fs").promises.writeFile;
const JSZip = require("jszip");
const fs = require("fs-extra");
const path = require("path");

const body = new FormData();
const zip = new JSZip();

const sendRequest = async () => {
  try {
    // Read the content of the file
    const fileContents = await readFile("./Master-Mz-to-R1profie_test.sav");

    // Create a blob from the file content
    const blob = new Blob([fileContents]);

    // Specify which file to download:
    // "zip" - downloads all output files as a ZIP file
    // "filename" - downloads the specified file
    // "outputFilename.json" - downloads the output JSON file
    // "" - does not download any file, returns a text response with the fitting parameters
    body.set("download", "zip");

    // Attach the file to the body
    // Allowed files include .json and .sav
    body.set("file", blob, "example_09.sav");

    // Send the request to the server
    const res = await fetch(
      "http://192.168.64.11:8142/fit",
      {
        method: "POST",
        body,
      }
    );

    // If no download files are specified, you can fetch a text response containing the fitting parameters
    // const textRes = await res.text();
    // console.log("Response received:", textRes);

    // If the response is a JSON file, you can fetch it as follows
    // It is then stored in an object you can access with simple dot notation
    // const jsonRes = await res.json();
    // console.log("Response received:", jsonRes);

    // Fetch the raw data of the response, which is a ZIP file
    const rawFileData = await res.arrayBuffer();

    // Extract the files from the ZIP
    const zipFile = await zip.loadAsync(rawFileData);
    const files = zipFile.files;

    // Log the files in the ZIP
    console.log("Files in the ZIP:", files);

    // Save the files to the disk
    for (const file in files) {
      // Ignore directories
      if (!files[file].dir) {
        const fileContent = await files[file].async("nodebuffer");
        const filePath = "./" + file;
        // Ensure the directory to store the file exists
        await fs.ensureDir(path.dirname(filePath));
        await writeFile(filePath, fileContent);
      }
    }
  } catch (err) {
    // Log any errors that occur
    console.error("Error sending request:", err);
  }
};

// Call the function to send the request
sendRequest();
END_JS

shell "sudo apt install nodejs npm";
shell "sudo npm i jszip";
shell "sudo npm i fs-extra";

#my $IP= shell("onefite start-web-engine &",:out).out.lines(:close).tail.words[6];
#say $IP;	

#shell "cd $folder && nodejs nodejs-ofe.ts";

say "Lookup for more output in $folder.";
